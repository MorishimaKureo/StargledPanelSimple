<!DOCTYPE html>
<html>
<head>
    <title>File Manager - <%= serverName %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/public/css/global.css">
    <link rel="stylesheet" href="/public/css/filemanager.css">
    <link rel="stylesheet" href="/public/css/modals.css">
    <!-- Removed inline <style> -->
</head>
<body>
    <%- include('partials/sidebar', { page: 'filemanager' }) %>
    <%- include('partials/header') %>
    <div id="main-content">
        <h1>File Manager: <%= serverName %></h1>
        <div>
            <button id="back-btn">Back</button>
            <span id="current-path"></span>
            <button id="new-file-btn">New File</button>
            <button id="new-folder-btn">New Folder</button>
            <button id="upload-btn">Upload</button>
            <form id="upload-form" style="display:none;">
                <input type="file" id="hidden-file-input" name="file" />
                <input type="hidden" name="path" id="upload-path" />
            </form>
        </div>
        <div id="file-list"></div>
    </div>
    <!-- Modal for new file/folder/rename -->
    <div id="name-modal">
        <div id="name-modal-content">
            <label id="modal-title"></label>
            <input id="modal-input" type="text" autocomplete="off" />
            <div>
                <button id="modal-ok">OK</button>
                <button id="modal-cancel">Cancel</button>
            </div>
        </div>
    </div>
    <%- include('partials/footer') %>
    <script>
    // Pass serverId to JS
    const serverId = "<%= serverId %>";
    </script>
    <script src="/public/js/filemanager.js"></script>
</body>
</html>